Codeigniter-notify-library
(c) 2011-2012, Anton Gorodezkiy

Это библиотека для codeigniter для вывода уведомлений пользователю

Подключение:
<html>
	<head>
		...
		<?=$this->notify->initJsCss()?>
	</head>
	<body>
		<?=$this->notify->getMessages()?>
		...
	</body>
</html>

Некоторые методы:
	// добавление ошибки в очередь
		$this->notify->error('Случилась какая-то ошибка'); // php
		notifyError('Случилась еще одна ошибка'); // js
	
	// добавление успешного сообщения в очередь
		$this->notify->success('Но основную часть мы выполнили'); // php
		notifySuccess('И это действие тоже успешно'); // js
	
	// присоединим данные к ответу
	// из javascript он будет доступен через объект data в ответе
		$this->notify->setData( json_encode(array('item' => 'value')) );
	
	// в случае синхронного запроса, на этот адрес произойдет редирект из php,
	// в случае асинхронного будет сменен window.location
		$this->notify->setComeback( site_url() );
	
	// этот метод завершит дальнейшее выполнение скрипта
		$this->notify->returnNotify();

	

Пример использования в php:
	function some_action()
	{
		if ($result)
		{
			$this->notify->error('Часть данных не сохранена');
			$this->notify->setData( json_encode(array('sum_count' => 4)) );
			$this->notify->returnSuccess('Функция отработала');
		}
		else
			$this->notify->returnError('Случилась какая-то ошибка');
	}
	
	
Пример использования в js:
	$.post(url,form_data,function(data)
	{
		var json = $.parseJSON(data);
		
		if (notifyIsSuccess(json))
		{
			$(".sum").text(json.data.sum_count);
			notifySuccess('Запись суммы прошла успешно');
		}
		
		notify(json); // выведет очередь сообщений, если таковые есть
		
	});
	